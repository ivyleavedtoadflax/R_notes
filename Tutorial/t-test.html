<html>

<head>
<style type="text/css">
.knitr.inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
},
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0em 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage.left {
  text-align: left;
}
.rimage.right {
  text-align: right;
}
.rimage.center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
<title>Getting Started with R - Scatterplots</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css">

</head>

<body>

<table align="center" width="80%">
<tr>
<td class="next"><a href="multiple_plots.html">Previous</a></td>
<td class="next"><a href="index.html">Course Overview</a></td>
<td class="next"><a href="regression.html">Next</a></td>
</tr>
</table>

<br><hr class="ex1"><br>

<h1>T-tests</h1>

<p>As mentioned at the beginning of this course, I am not going to discuss which tests you should use, or why you should use them. I am simply going to show you HOW to use them in <tt>R</tt></p>

<p>When running t-tests, there is a simple, built in function we can use. See <tt>?t.test</tt> for more information.</p>

<p>In this example we will use Crawley's t.test data from p.296 of the R book. </p>

<div class="chunk" id="unnamed-chunk-1"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">t.test.data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read.table</span><span class="hl std">(</span>
     <span class="hl str">&quot;http://www.bio.ic.ac.uk/research/mjcraw/therbook/data/t.test.data.txt&quot;</span><span class="hl std">,</span>
     <span class="hl kwc">header</span><span class="hl std">=T</span>
     <span class="hl std">)</span>
<span class="hl std">t.test.data</span>
</pre></div>
<div class="output"><pre class="knitr r">##    gardenA gardenB
## 1        3       5
## 2        4       5
## 3        4       6
## 4        3       7
## 5        2       4
## 6        3       4
## 7        1       3
## 8        3       5
## 9        5       6
## 10       2       5
</pre></div>
</div></div>



<p>Remember that we must always satisfy ourselves that the data are normally distributed before completing a t-test, if not, the assumptions of these tests do not hold. You should consider the other <a href="http://en.wikipedia.org/wiki/Student%27s_t-test#Assumptions">assumptions</a> of a t-test too, before you run the test.</p>

<div class="chunk" id="T-test1"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">gardenA</span> <span class="hl kwb">&lt;-</span> <span class="hl std">t.test.data</span><span class="hl opt">$</span><span class="hl std">gardenA</span>
<span class="hl std">gardenB</span> <span class="hl kwb">&lt;-</span> <span class="hl std">t.test.data</span><span class="hl opt">$</span><span class="hl std">gardenB</span>
<span class="hl kwd">par</span><span class="hl std">(</span><span class="hl kwc">mfrow</span><span class="hl std">=</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">))</span>
<span class="hl kwd">qqnorm</span><span class="hl std">(gardenA)</span>
<span class="hl kwd">qqline</span><span class="hl std">(gardenA)</span>
<span class="hl kwd">qqnorm</span><span class="hl std">(gardenB)</span>
<span class="hl kwd">qqline</span><span class="hl std">(gardenB)</span>
</pre></div>
</div><div class="rimage default"><img src="figure/T-test1.png" title="plot of chunk T-test1" alt="plot of chunk T-test1" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">par</span><span class="hl std">(</span><span class="hl kwc">mfrow</span><span class="hl std">=</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span><span class="hl num">1</span><span class="hl std">))</span>
</pre></div>
</div></div>


<p>OK great...this data looks pretty normal. Let's complete the <tt>t.test()</tt></p>

<p>In this example we have assumed that the gardens are paired plots, and that we are interested in a two sided test. If you are not sure what is meant by these terms, you should read up on it before attempting to complete the test: <a href="http://en.wikipedia.org/wiki/Student%27s_t-test">Wikipedia</a> is a surprisingly good resource for statistical information</p>.


<div class="chunk" id="unnamed-chunk-2"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">t.test</span><span class="hl std">(</span>
     <span class="hl kwc">x</span> <span class="hl std">= gardenA,</span>
     <span class="hl kwc">y</span> <span class="hl std">= gardenB,</span>
     <span class="hl kwc">alternative</span> <span class="hl std">=</span> <span class="hl str">&quot;two.sided&quot;</span><span class="hl std">,</span>
     <span class="hl kwc">paired</span> <span class="hl std">=</span> <span class="hl num">TRUE</span>
     <span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## 	Paired t-test
## 
## data:  gardenA and gardenB
## t = -6.708, df = 9, p-value = 8.771e-05
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -2.674 -1.326
## sample estimates:
## mean of the differences 
##                      -2
</pre></div>
</div></div>


<p>The output gives us the test statistic, the degrees of freedom, and the p-value - simple.</p>

<p>Note that if you want to automate <tt>t.test</tt>, or another test, you can extract the results from the test object like so:</p>

<div class="chunk" id="unnamed-chunk-3"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">example_test</span> <span class="hl kwb">&lt;-</span><span class="hl kwd">t.test</span><span class="hl std">(</span>
     <span class="hl kwc">x</span> <span class="hl std">= gardenA,</span>
     <span class="hl kwc">y</span> <span class="hl std">= gardenB,</span>
     <span class="hl kwc">alternative</span> <span class="hl std">=</span> <span class="hl str">&quot;two.sided&quot;</span><span class="hl std">,</span>
     <span class="hl kwc">paired</span> <span class="hl std">=</span> <span class="hl num">TRUE</span>
     <span class="hl std">)</span>
<span class="hl std">example_test</span><span class="hl opt">$</span><span class="hl std">statistic</span>
</pre></div>
<div class="output"><pre class="knitr r">##      t 
## -6.708
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">example_test</span><span class="hl opt">$</span><span class="hl std">parameter</span>
</pre></div>
<div class="output"><pre class="knitr r">## df 
##  9
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">example_test</span><span class="hl opt">$</span><span class="hl std">p.value</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 8.771e-05
</pre></div>
</div></div>



<p>So yes....it appears that our two samples are significantly different, because the test statistic is greater than our critical t value. We can can calculate the critical t value to check this:</p>

<div class="chunk" id="unnamed-chunk-4"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">qt</span><span class="hl std">(</span>
     <span class="hl num">0.975</span><span class="hl std">,</span> <span class="hl com"># 0.975 because it is a two tailed test and 2*(1-0.975) = 0.05!          </span>
     <span class="hl kwc">df</span> <span class="hl std">=</span> <span class="hl num">9</span>
     <span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 2.262
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># We ignore signs in a two-sided t-test, hence if the absolute value of the test</span>
<span class="hl com"># statistic is greater than the critical value, we reject the null hypothesis:</span>
<span class="hl kwd">abs</span><span class="hl std">(example_test</span><span class="hl opt">$</span><span class="hl std">statistic)</span> <span class="hl opt">&gt;</span> <span class="hl kwd">qt</span><span class="hl std">(</span><span class="hl num">0.975</span><span class="hl std">,</span><span class="hl num">9</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">##    t 
## TRUE
</pre></div>
</div></div>


<p>Easy!</p>

<br><hr class="ex1"><br>

<table align="center" width="80%">
<tr>
<td class="next"><a href="multiple_plots.html">Previous</a></td>
<td class="next"><a href="index.html">Course Overview</a></td>
<td class="next"><a href="regression.html">Next</a></td>
</tr>
</table>

</body>

</html>
